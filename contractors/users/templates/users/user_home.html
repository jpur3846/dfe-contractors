{% extends "user_template.html" %}
{% load static %}

{% block pagetitle %}
DFE | Gig List
{% endblock %}

{% block written-title %}
Gig List
{% endblock %}

{% block user-body %}
<div class="container-fluid px-5 pt-1">
    <div class="row border-bottom px-4 py-3 mb-4">
        <div class="col">Gig Date</div>
        <div class="col">Event Name</div>
        <div class="col d-none d-sm-block">Venue</div>
        <div class="col d-none d-md-block">Call Time</div>
        <div class="col d-none d-lg-block">Fee (Incl. GST)</div>
        <div class="col">Worksheet</div>
        <div class="col d-none d-lg-block">Generate an invoice</div>
    </div>
    {% for event in events %}
    <div class="row p-4 mb-4">
        <div class="col border-left border-right">{{ event.event.date }}</div>
        <div class="col border-right">{{ event.event.name }}</div>
        <div class="col border-right d-none d-sm-block">{{ event.event.venue }}</div>
        <div class="col border-right d-none d-md-block">{{ event.event.musicians_call_time }}</div>
        <div class="col border-right d-none d-lg-block">${{ event.fee_all_incl }}</div>
        <div class="col border-right">
            <a href="{% url 'worksheet_view' event.pk %}">        
                <button class="btn btn-dark btn-block">Worksheet</button>
            </a>
        </div>
        {% if event.event.event_complete %}
            <div class="col border-right d-none d-lg-block">
                <a href="{% url 'generate_pdf_invoice' event.pk %}" class="d-none d-md-block">
                    <button class="btn btn-primary btn-block">Generate Invoice</button>
                </a>
            </div>
        {% else %}
            <div class="col border-right d-none d-md-block">Event pending</div>
        {% endif %}
    </div>
    {% empty %}
        No Gigs Booked!
    {% endfor %}
</div>
<br>

{% endblock %}